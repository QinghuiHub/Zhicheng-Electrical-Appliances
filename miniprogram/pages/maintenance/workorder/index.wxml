<view class="container">
  <view class="header">
    <view class="title">预约安装</view>
    <view class="subtitle">专业安装，贴心服务</view>
  </view>
  
  <view class="form-container">
    <view class="form-group">
      <view class="form-title">设备信息</view>
      
      <view class="form-item">
        <view class="label required">设备类型</view>
        <picker mode="selector" range="{{deviceTypes}}" bindchange="onDeviceTypeChange">
          <view class="picker-value">{{deviceType || '请选择设备类型'}}</view>
        </picker>
      </view>
      
      <view class="form-item">
        <view class="label required">产品型号</view>
        <input class="input" placeholder="请输入产品型号" bindinput="onModelInput" />
      </view>
      
      <view class="form-item">
        <view class="label">品牌</view>
        <input class="input" placeholder="请输入产品品牌（可选）" bindinput="onBrandInput" />
      </view>
    </view>
    
    <view class="form-group">
      <view class="form-title">联系方式</view>
      
      <view class="form-item">
        <view class="label required">联系人</view>
        <input class="input" placeholder="请输入您的姓名" bindinput="onNameInput" />
      </view>
      
      <view class="form-item">
        <view class="label required">手机号码</view>
        <input class="input" type="number" placeholder="请输入您的手机号码" bindinput="onContactInput" />
      </view>
      
      <view class="form-item">
        <view class="label required">安装地址</view>
        <input class="input" placeholder="请输入您的详细地址" bindinput="onAddressInput" />
      </view>
    </view>
    
    <view class="form-group">
      <view class="form-title">安装时间</view>
      
      <view class="form-item">
        <view class="label required">期望安装日期</view>
        <picker mode="date" start="{{today}}" end="{{endDate}}" bindchange="onDateChange">
          <view class="picker-value">{{installDate || '请选择日期'}}</view>
        </picker>
      </view>
      
      <view class="form-item">
        <view class="label">备注信息</view>
        <textarea class="textarea" placeholder="请填写其他需要说明的情况（如安装要求等）..." bindinput="onRemarksInput" maxlength="200"></textarea>
      </view>
    </view>
    
    <view class="form-group">
      <view class="form-title">上传图片 <text class="subtitle">(可选，最多3张)</text></view>
      <view class="upload-content">
        <view class="upload-tips">上传安装环境照片，有助于技师提前了解情况</view>
        <view class="upload-grid">
          <view class="upload-item" bindtap="chooseImage" wx:if="{{images.length < 3}}">
            <view class="upload-add">+</view>
            <view class="upload-text">添加照片</view>
          </view>
          <view class="upload-item image-item" wx:for="{{images}}" wx:key="index">
            <image src="{{item}}" mode="aspectFill"></image>
            <view class="delete-btn" catchtap="deleteImage" data-index="{{index}}">×</view>
          </view>
        </view>
      </view>
    </view>
  </view>
  
  <view class="service-note">
    <view class="note-title">服务说明</view>
    <view class="note-item">1. 提交信息后，客服将在30分钟内与您联系</view>
    <view class="note-item">2. 安装费用将根据设备类型和安装难度而定</view>
    <view class="note-item">3. 安装服务质保期为90天</view>
  </view>
  
  <button class="submit-btn" bindtap="submitInstall">立即预约</button>
</view> 